<html ng-app="main">

<head>
    <link href="/res/css/materialize.min.css" rel="stylesheet" />
    <title>Shelter Helper</title>
</head>

<body ng-controller="MainCtrl">
    <nav class="blue">
        <div class="nav-wrapper">
            <a href="/" class="brand-logo center">Shelter Helper</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li>
                    <a href="/index.html">Home</a>
                </li>
                <li>
                    <a href="/register.html">Register</a>
                </li>
                <li>
                    <a href="/login.html">Log In</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="row" style="margin-top: 10vh">
        <div class="col s12 l4 offset-l4">
            <div class="card-panel" style="width: 100%">
                <h2 class="center" style="margin-top: 0px">Log In</h2>
                <form>
                    <input type="text" placeholder="Username" id="username">
                    <input type="password" placeholder="Password" id="password">
                    <div class="center">
                        <button class="btn green waves-effect" id="loginbtn">Log In</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script src="/res/js/jquery.min.js"></script>
    <script>
        var config = {
            apiKey: "AIzaSyBHJWGNETFApjjO2EJKmwjBf8JM45AV7NM",
            authDomain: "shelter-helper.firebaseapp.com",
            databaseURL: "https://shelter-helper.firebaseio.com",
            projectId: "shelter-helper",
            storageBucket: "shelter-helper.appspot.com",
            messagingSenderId: "513616376080"
        };
        firebase.initializeApp(config);
        $("#loginbtn").click((event) => {
            event.preventDefault();
            console.log("Clicked");
            console.log($("#username").val(), $("#password").val());
            firebase.auth().signInWithEmailAndPassword($("#username").val(), $("#password").val()).catch((error) => {
                alert("WRONG");
                return;
            });
            window.location.href = "http://localhost:8000/index.html";
        });
    </script>
</body>

</html>